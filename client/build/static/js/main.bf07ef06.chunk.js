(this.webpackJsonpcampsearch=this.webpackJsonpcampsearch||[]).push([[0],{317:function(e,a,t){e.exports=t.p+"static/media/logo.b87d541f.png"},330:function(e,a,t){e.exports=t(695)},335:function(e,a,t){},379:function(e,a,t){},380:function(e,a,t){},587:function(e,a){},589:function(e,a){},602:function(e,a){},604:function(e,a){},633:function(e,a){},634:function(e,a){},692:function(e,a,t){},695:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),o=t.n(l),i=(t(335),t(47)),c=t(48),s=t(50),u=t(49),d=t(51),m=t(320),g=t(65),p=t(31),h=t(133),f=t(740),b=t(84),E=t(744),v=t(760),y=t(747),O=t(748),j=t(311),C=t.n(j),k=t(312),S=t.n(k),w=t(697),L=t(745),x=t(696),I=t(746),N=t(310),R=t.n(N),F=t(759),A=t(742),G=t(308),D=t(189),M=(t(338),{apiKey:"AIzaSyCMS2aKWCzeYoOQ32IRncXYNo139cEYS8o",authDomain:"campsearch-3f400.firebaseapp.com",databaseURL:"https://campsearch-3f400.firebaseio.com",projectId:"campsearch-3f400",storageBucket:"campsearch-3f400.appspot.com",messagingSenderId:"406169783106",appId:"1:406169783106:web:08913bc09d6045158d96db",measurementId:"G-SFW2XRVHGS"}),B=t(53),P=t.n(B),W=t(323),H=D.initializeApp(M).auth(),V={googleProvider:new D.auth.GoogleAuthProvider};H.onAuthStateChanged((function(e){console.log("Auth state change noted",e),e?(console.log("user is signed in!"),console.log("USER: ",e),console.log(e.displayName),console.log(e.email),console.log(e.uid),P.a.post("/api/createusers",{name:e.displayName,email:e.email,uuid:e.uid}).then((function(a,t){console.log("HIIIIIIIIII"),e.emailVerified?(this.setState({isLoggedIn:!0}),console.log("HI YOU CAN SEE ME")):console.log("YOU CANNOT SEE ME")}))):console.log("User not signed in")}));var T=Object(f.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing(1)}}})),z=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=T,a=this.props,t=a.user,n=a.signOut,l=a.signInWithGoogle,o=a.handleLogin,i="";return r.a.createElement("div",{className:e.container},r.a.createElement(A.a,{container:!0,spacing:3},r.a.createElement(A.a,{item:!0,xs:12},i=t?t.displayName:""),r.a.createElement(A.a,{item:!0,xs:12,sm:3},t?r.a.createElement("button",{variant:"contained",color:"primary",className:e.button,onClick:function(){n(),o(i,!1)}},"Sign out"):r.a.createElement(W.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){l(),o(i,!0)}}))))}}]),a}(r.a.Component),q=Object(G.a)({providers:V,firebaseAppAuth:H})(z),K=t(743),Y=Object(f.a)((function(e){return{modal:{position:"absolute",overflow:"scroll",height:"100%",display:"block",padding:"20px"},paper:{width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,4),outline:"none",border:"none",position:"absolute",top:"35%",left:"35%",fontFamily:"Red Hat Display, sans-serif"}}}));var J=function(e){var a=Y(),t=r.a.useState(!1),n=Object(p.a)(t,2),l=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(K.a,{color:"inherit",onClick:function(){o(!0)}},e.isLoggedIn?"Logout":"Login"),r.a.createElement(F.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:function(){o(!1)},className:a.modal},r.a.createElement("div",{className:a.paper},r.a.createElement("h2",{id:"modal-title"},"Sign In"),r.a.createElement(q,{handleLogin:e.handleLogin}))))},U=t(749),_=Object(f.a)((function(e){return{toolbar:{background:"#b67e29"},root:{flexGrow:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},drawer:{width:240,flexShrink:0,fontFamily:"Red Hat Display, sans-serif",fontSize:"22px"},drawerPaper:{width:240},drawerHeader:Object(h.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),title:{flexGrow:1}}}));var Z=function(e){var a=Object(b.a)(),t=_(),n=r.a.useState(!1),l=Object(p.a)(n,2),o=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{position:"static"},r.a.createElement(L.a,{className:t.toolbar},r.a.createElement(I.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){i(!0)}},r.a.createElement(R.a,null)),r.a.createElement(x.a,{variant:"h6",className:t.title},r.a.createElement("a",{style:{color:"white",textDecoration:"none"},href:"/"},"Camp Search")),r.a.createElement(J,{isLoggedIn:e.isLoggedIn,handleLogin:e.handleLogin}))),r.a.createElement(v.a,{className:t.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(I.a,{onClick:function(){i(!1)}},"ltr"===a.direction?r.a.createElement(C.a,null):r.a.createElement(S.a,null))),r.a.createElement(y.a,null),r.a.createElement(O.a,null,r.a.createElement(w.a,{button:!0,key:"Home"},r.a.createElement(U.a,{href:"/",style:{textDecoration:"none",color:"black"}},"Home")),r.a.createElement(w.a,{button:!0,key:"Favorites"},r.a.createElement(U.a,{href:"/favorites",style:{textDecoration:"none",color:"black"}},"Favorites"))))))},X=t(325),Q=t(134),$=t(324),ee=t(313),ae=t.n(ee),te=t(314),ne=t.n(te),re=t(315),le=t.n(re),oe=t(316),ie=t.n(oe),ce=t(758),se=t(750);var ue={getCampground:function(e){return P.a.get("https://developer.nps.gov/api/v1/campgrounds?q=".concat(e,"&api_key=O4VdhmolNStlPLj2bo2DfPKWks3F8J9xfihpGqTf"))},getWeather:function(e,a,t){return P.a.get("api.openweathermap.org/data/2.5/forecast/daily?lat=".concat(e,"&lon=").concat(a,"&cnt=").concat(t))},getTrails:function(e,a){return P.a.get("https://www.hikingproject.com/data/get-trails?lat=".concat(e,"&lon=").concat(a,"&maxDistance=10&key=200542336-9cc42e1d5b620d5f44636b1bd9dc58f3")).then((function(e){return e.data}))},deleteFavorite:function(e){return P.a.delete("/api/favorites/"+e)},saveFavorite:function(e,a){return P.a.post("/api/favorites",{parkCode:e,id:a})},getFavorites:function(){return P.a.get("/api/favorites").then((function(e){return e.data}))},getFavoriteCampgrounds:function(){return this.getFavorites().then((function(e){var a=e.map((function(e){return(a=e.parkCode,P.a.get("https://developer.nps.gov/api/v1/campgrounds?parkCode=".concat(a,"&api_key=O4VdhmolNStlPLj2bo2DfPKWks3F8J9xfihpGqTf")).then((function(e){return e.data}))).then((function(a){return a.data.find((function(a){return a.id===e.campgroundId}))}));var a}));return Promise.all(a)}))}},de=[{label:"Acadia"},{label:"American Samoa"},{label:"Arches"},{label:"Badlands"},{label:"Big Bend"},{label:"Biscayne"},{label:"Black Canyon of the Gunnison"},{label:"Bryce Canyon"},{label:"Cabrillo"},{label:"Canyonlands"},{label:"Capitol Reef"},{label:"Carlsbad Caverns"},{label:"Channel Islands"},{label:"Congaree"},{label:"Crater Lake"},{label:"Cuyahoga Valley"},{label:"Death Valley"},{label:"Denali"},{label:"Dry Tortugas"},{label:"Everglades"},{label:"Gates of the Arctic"},{label:"Gettysburg National Military Park"},{label:"Glacier"},{label:"Glacier Bay"},{label:"Grand Canyon"},{label:"Grand Teton"},{label:"Great Basin"},{label:"Great Sand Dunes"},{label:"Great Smoky Mountains"},{label:"Guadalupe Mountains"},{label:"Haleakala"},{label:"Hawai\u2019i Volcanoes"},{label:"Harpers Ferry"},{label:"Hot Springs"},{label:"Isle Royale"},{label:"Joshua Tree"},{label:"Katmai"},{label:"Kenai Fjords"},{label:"Kings Canyon"},{label:"Kobuk Valley"},{label:"Lake Clark"},{label:"Lassen Volcanic"},{label:"Mammoth Cave"},{label:"Mesa Verde"},{label:"Mount Rainier"},{label:"North Cascades"},{label:"Organ Pipe Cactus"},{label:"Olympic"},{label:"Petrified Forest"},{label:"Pinnacles"},{label:"Redwood"},{label:"Rocky Mountain"},{label:"Saguaro"},{label:"Sequoia"},{label:"Shenandoah"},{label:"Theodore Roosevelt"},{label:"Valley Forge"},{label:"Virgin Islands"},{label:"Voyageurs"},{label:"Wind Cave"},{label:"Wrangell\u2013St. Elias"},{label:"Yellowstone"},{label:"Yosemite"},{label:"Zion"}];function me(e){var a=e.classes,t=e.inputRef,n=void 0===t?function(){}:t,l=e.ref,o=Object($.a)(e,["classes","inputRef","ref"]);return r.a.createElement(ce.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){l(e),n(e)},classes:{input:a.input}}},o))}function ge(e,a){var t=a.query,n=a.isHighlighted,l=le()(e.label,t),o=ie()(e.label,l);return r.a.createElement(se.a,{selected:n,component:"div"},r.a.createElement("div",null,o.map((function(e){return r.a.createElement("span",{key:e.text,style:{fontWeight:e.highlight?500:400}},e.text)}))))}function pe(e){return e.label}var he=Object(f.a)((function(e){return{root:{height:250,flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:e.spacing(2)}}}));function fe(e){var a,t=he(),n=r.a.useState({single:"",popper:""}),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState([]),s=Object(p.a)(c,2),u=s[0],d=s[1],m={renderInputComponent:me,suggestions:u,onSuggestionsFetchRequested:function(e){var a=e.value;d(function(e){var a=ae()(e.trim()).toLowerCase(),t=a.length,n=0;return 0===t?[]:de.filter((function(e){var r=n<5&&e.label.slice(0,t).toLowerCase()===a;return r&&(n+=1),r}))}(a))},onSuggestionsClearRequested:function(){d([])},getSuggestionValue:pe,renderSuggestion:ge};return r.a.createElement("div",{className:t.root},r.a.createElement(ne.a,Object.assign({},m,{inputProps:{classes:t,id:"react-autosuggest-simple",label:"National Parks",placeholder:"Search for a national park for camping information...",value:o.single,onChange:(a="single",function(e,t){var n=t.newValue;i(Object(h.a)({},o,Object(Q.a)({},a,n)))}),onKeyDown:function(a){"Enter"===a.key&&(e.handleLoading(!0),ue.getCampground(o.single).then((function(a){e.handleCampgrounds(a.data.data),e.handleLoading(!1)})).catch((function(e){return console.error(e)})))}},theme:{container:t.container,suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return r.a.createElement(X.a,Object.assign({},e.containerProps,{square:!0}),e.children)}})))}t(379);var be=t(317),Ee=t.n(be),ve=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"j-container"},r.a.createElement(X.a,{id:"jumbotron"},r.a.createElement("img",{id:"logo",src:Ee.a,alt:"Camp-Search"}),r.a.createElement(fe,{handleCampgrounds:this.props.handleCampgrounds,handleLoading:this.props.handleLoading})))}}]),a}(n.Component);var ye=function(e){return r.a.createElement("main",Object.assign({className:"wrapper"},e))};t(380);var Oe=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,"Camp Search \xa9 2020"))},je=t(752),Ce=t(753),ke=t(755),Se=t(754),we=t(104),Le="AIzaSyBmSLZewBiOZn3GJAasNRzdzRYA_Bi4qyo",xe=t(574).createClient({key:Le}),Ie=Object(we.withScriptjs)(Object(we.withGoogleMap)((function(e){return r.a.createElement(we.GoogleMap,{center:e.position,defaultZoom:10},r.a.createElement(we.Marker,{position:e.position}))})));var Ne=function(e){var a=Object(n.useState)({lat:39.833333,lng:-98.583333}),t=Object(p.a)(a,2),l=t[0],o=t[1];return Object(n.useEffect)((function(){null===e.position?xe.geocode({address:"".concat(e.parkCode,", ").concat(e.name)},(function(e,a){e?console.error(e):o(a.json.results[0].geometry.location)})):o(e.position)}),[e.position,e.name,e.parkCode]),r.a.createElement(Ie,{position:l,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat(Le),loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%",width:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})},Re=t(751),Fe=(t(692),Object(f.a)((function(e){return{button:{background:"#9D2F16",color:"white"},modal:{position:"absolute",overflow:"scroll",height:"100%",display:"block",padding:"20px"},title:{textAlign:"center",background:"#b67e29",color:"white",padding:"40px"},trailLink:{textDecoration:"none",color:"black"},container:{padding:e.spacing(4,8)}}})));var Ae=function(e){var a=Fe(),t=Object(n.useState)(!1),l=Object(p.a)(t,2),o=l[0],i=l[1],c=Object(n.useState)([]),s=Object(p.a)(c,2),u=s[0],d=s[1];return Object(n.useEffect)((function(){var a=e.campground.latLong.match(/[\d.-]+/g),t=null!=a?{lat:parseFloat(a[0]),lng:parseFloat(a[1])}:null;null!==t&&ue.getTrails(t.lat,t.lng).then((function(e){return d(e.trails)})).catch((function(e){return console.error(e)}))}),[e.campground.latLong]),r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement(K.a,{onClick:function(){i(!0)},size:"small",variant:"contained",className:a.button,buttonStyle:{borderRadius:25},style:{borderRadius:25}},"Learn More"),r.a.createElement(F.a,{className:a.modal,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:o,onClose:function(){i(!1)}},r.a.createElement(Re.a,{maxWidth:"md",className:"modal"},r.a.createElement(X.a,{className:a.root},r.a.createElement("div",{className:"container"},r.a.createElement(x.a,{variant:"h3",component:"h3",className:a.title},e.campground.name),r.a.createElement("br",null),r.a.createElement("div",{className:a.container},r.a.createElement(x.a,{component:"p",style:{textAlign:"justify"}},e.campground.description),r.a.createElement("br",null),r.a.createElement(x.a,{component:"p"},e.campground.directionsoverview),r.a.createElement("br",null),r.a.createElement(x.a,{component:"p"},e.campground.accessibility.adainfo),r.a.createElement("br",null),r.a.createElement(x.a,{component:"p"},e.campground.accessibility.firestovepolicy),r.a.createElement("br",null),r.a.createElement(x.a,{component:"p"},r.a.createElement("strong",null," Weather: ")," ",e.campground.weatheroverview),r.a.createElement(x.a,{style:{textAlign:"center"}},0===u.length?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("h2",null,"Trails"),u.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null," ",e.name),0===e.imgSmallMed.length?r.a.createElement("div",null):r.a.createElement("img",{src:e.imgSmallMed,alt:"trail"}),r.a.createElement("p",null,r.a.createElement("strong",null,"Rating:")," ",e.stars),r.a.createElement("p",null,r.a.createElement("strong",null,"Length:")," ",e.length),r.a.createElement("p",null,r.a.createElement("strong",null,"Description:")," ",e.summary),r.a.createElement(K.a,{size:"small",variant:"contained",className:a.button,buttonStyle:{borderRadius:25},style:{borderRadius:25}},r.a.createElement("a",{className:a.trailLink,href:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"white"}}," Learn More ")),r.a.createElement("hr",null),r.a.createElement("br",null))}))))))))))},Ge=Object(f.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},title:{textAlign:"center"},noResults:{textAlign:"center",fontFamily:"Red Hat Display, sans-serif"}}}));var De=function(e){var a=Ge(),t=Object(n.useState)([]),l=Object(p.a)(t,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){ue.getFavorites().then((function(e){return i(e)})).catch((function(e){return console.error(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(A.a,{container:!0,justify:"center",spacing:7},e.campgrounds.map((function(e){var t=e.latLong.match(/[\d.-]+/g),n=null!=t?{lat:parseFloat(t[0]),lng:parseFloat(t[1])}:null;return r.a.createElement(A.a,{key:e.id,item:!0,xs:12,md:4},r.a.createElement(je.a,{className:a.card},r.a.createElement("div",{style:{height:200}},console.log(e),r.a.createElement(Ne,{position:n,parkCode:e.parkCode,name:e.name})),r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2",className:a.title},e.name))),r.a.createElement("div",{style:{flex:1}}),r.a.createElement(ke.a,{style:{textAlign:"center"}},r.a.createElement("i",{className:"material-icons",style:{cursor:"pointer",color:"#ffc000",fontSize:"33px"},onClick:function(){return a=e.parkCode,t=e.id,void(o.map((function(e){return e.campgroundId})).includes(t)?ue.deleteFavorite(t).then((function(){return i(o.filter((function(e){return e.campgroundId!==t})))})).catch((function(e){return console.error(e)})):ue.saveFavorite(a,t).then((function(){return i(o.concat([{parkCode:a,campgroundId:t}]))})).catch((function(e){return console.error(e)})));var a,t}},o.map((function(e){return e.campgroundId})).includes(e.id)?"star":"star_border"),r.a.createElement(Ae,{campground:e}))))}))))},Me=t(756),Be=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.loading?r.a.createElement(Me.a,{color:"secondary"}):r.a.createElement(Re.a,{maxWidth:"md",style:{marginTop:70}},r.a.createElement(De,{campgrounds:this.props.campgrounds})))}}]),a}(r.a.Component),Pe=t(757),We={textAlign:"center",fontFamily:"Red Hat Display, sans-serif"},He=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={campgrounds:[],loading:!1},t.componentDidMount=function(){t.setState({loading:!0}),ue.getFavoriteCampgrounds().then((function(e){t.setState({campgrounds:e,loading:!1})})).catch((function(e){t.setState({loading:!1}),console.log(e)}))},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:We},"My favorites"),r.a.createElement(Re.a,{maxWidth:"md",style:{marginTop:70}},this.state.loading?r.a.createElement("div",{style:{textAlign:"center",color:"#c63d1e"}},r.a.createElement(Pe.a,{color:"secondary"})):0===this.state.campgrounds.length?r.a.createElement("h3",{style:We},"You don't have any favorites"):r.a.createElement(De,{campgrounds:this.state.campgrounds})))}}]),a}(r.a.Component),Ve=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={campgrounds:[],loading:!1,name:"",isLoggedIn:!1},t.handleLogin=function(e,a){t.setState({isLoggedIn:a},(function(){t.setState({name:e}),localStorage.setItem("name",JSON.stringify(t.state.name))}))},t.handleCampgrounds=function(e){return t.setState({campgrounds:e})},t.handleLoading=function(e){return t.setState({loading:e})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",{id:"app"},r.a.createElement(Z,{isLoggedIn:this.state.isLoggedIn,handleLogin:this.handleLogin}),r.a.createElement(ve,{handleCampgrounds:this.handleCampgrounds,handleLoading:this.handleLoading}),r.a.createElement(ye,null,r.a.createElement(g.a,{path:"/",render:function(a){return r.a.createElement(Be,Object.assign({},a,{campgrounds:e.state.campgrounds,loading:e.state.loading}))}}),r.a.createElement(g.a,{path:"/favorites",component:He})),r.a.createElement(Oe,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[330,1,2]]]);
//# sourceMappingURL=main.bf07ef06.chunk.js.map